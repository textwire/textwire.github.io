import{_ as n,o as a,c as s,b as e}from"./app-GRqY6spu.js";const t={},i=e(`<h1 id="textwire-a-template-language-for-go" tabindex="-1"><a class="header-anchor" href="#textwire-a-template-language-for-go" aria-hidden="true">#</a> Textwire. A template language for Go.</h1><blockquote><p>WARNING: Textwire is still in development and is not ready for production use.</p></blockquote><p>Textwire is a simple yet powerful template language for Go. It is designed to easily inject variables from Go code into a template file or just a regular string. It is inspired by Go&#39;s syntax and has a similar syntax to make it easier for Go developers to learn and use it.</p><p>Keep in mind that this is a separate language and has nothing to do with Go. It just has a similar syntax to make it easier for Go developer to learn and use it. As for example, you can&#39;t write <code>{{ true ? &quot;yes&quot; : &quot;no&quot; }}</code> in Go, but you can do it in Textwire.</p><h2 id="get-started" tabindex="-1"><a class="header-anchor" href="#get-started" aria-hidden="true">#</a> Get started</h2><p>Before we start using Textwire as a templating language, we need to tell it where to look for the template files. We can do that by using the <code>textwire.SetConfig</code> function only once in our <code>main.go</code> file. Here is an example of setting the configurations:</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    textwire<span class="token punctuation">.</span><span class="token function">SetConfig</span><span class="token punctuation">(</span>textwire<span class="token punctuation">.</span>Config<span class="token punctuation">{</span>
        TemplateDir<span class="token punctuation">:</span> <span class="token string">&quot;src/views/templates&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>With this configuration in place, Textwire will scan the content of the <code>src/views/templates</code> folder and all of its subfolders for template files. It will then cache them so that it doesn&#39;t scan the folder every time you want to parse a file.</p><p>To print the content of the template file, we can use the <code>textwire.ParseFile</code> function. Here is an example of parsing a template file:</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> homeView<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Listening on http://localhost:8080&quot;</span><span class="token punctuation">)</span>
	http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">homeView</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	vars <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span>
		<span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Hello, World!&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span>   <span class="token number">23</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>

	err <span class="token operator">:=</span> textwire<span class="token punctuation">.</span><span class="token function">PrintFile</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;home&quot;</span><span class="token punctuation">,</span> vars<span class="token punctuation">)</span>

	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example, for our home page, we tell Textwire to use the &quot;home.textwire.html&quot; file and pass the variables that we want to inject into the template. The <code>textwire.PrintFile</code> function will then parse the file and print the result to the <code>http.ResponseWriter</code> object.</p><h2 id="features" tabindex="-1"><a class="header-anchor" href="#features" aria-hidden="true">#</a> Features</h2><p>This is a list of features that are implemented and planned to be implemented in the future.</p><ul><li>Statements <ul><li>[ ] If statements <code>{{ if x == 1 }}</code></li><li>[ ] Else statements <code>{{ else }}</code></li><li>[ ] Else-if statements <code>{{ else if x == 1 }}</code></li><li>[ ] For statements <code>{{ for i, name := range names }}</code></li></ul></li><li>Expressions <ul><li>[ ] Ternary expressions <code>x ? y : z</code></li><li>[ ] Prefix expressions <code>!x</code> or <code>-x</code></li><li>[ ] Infix expressions <code>x * y</code></li></ul></li><li>Literals <ul><li>[x] String literals <code>&quot;Hello, World!&quot;</code></li><li>[x] Integer literals <code>123</code> or <code>-234</code></li><li>[ ] Float literals <code>123.456</code></li><li>[ ] Boolean literals <code>true</code></li><li>[x] Nil literal <code>nil</code></li><li>[ ] Slice literals <code>[]int{1, 2, 3}</code></li></ul></li></ul><h2 id="usage-parsing-a-string" tabindex="-1"><a class="header-anchor" href="#usage-parsing-a-string" aria-hidden="true">#</a> Usage parsing a string</h2><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;github.com/textwire/textwire&quot;</span>
<span class="token punctuation">)</span>

str <span class="token operator">:=</span> <span class="token string">\`Hello, my name is {{ name }} and I am {{ age }} years old.\`</span>

vars <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span>  <span class="token number">21</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

parsed<span class="token punctuation">,</span> err <span class="token operator">:=</span> textwire<span class="token punctuation">.</span><span class="token function">ParseStr</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> vars<span class="token punctuation">)</span>

fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>parsed<span class="token punctuation">)</span> <span class="token comment">// would print: Hello, my name is John and I am 21 years old.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="usage-with-templates" tabindex="-1"><a class="header-anchor" href="#usage-with-templates" aria-hidden="true">#</a> Usage with templates</h2><p>You can use Textwire as a template language for your Server Side Rendered (SSR) web applications. Let&#39;s take a look what features you can use to build your templates.</p><h3 id="layouts" tabindex="-1"><a class="header-anchor" href="#layouts" aria-hidden="true">#</a> Layouts</h3><p>You can define a layout for your template by creating a <code>[name].textwire.html</code>. Here is an example of a layout:</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{ reserve &quot;title&quot; }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    {{ reserve &quot;content&quot; }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="template-keywords" tabindex="-1"><a class="header-anchor" href="#template-keywords" aria-hidden="true">#</a> Template keywords</h3><h4 id="reserve" tabindex="-1"><a class="header-anchor" href="#reserve" aria-hidden="true">#</a> reserve</h4><p>The &quot;reserve&quot; keyword is used to reserve a place for dynamic content that you can insert later. For example, you can reserve a place for the title of the page and then insert it later. Here is an example of inserting a title:</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>{{ layout &quot;layouts/main&quot; }}

{{ insert &quot;title&quot;, &quot;Home page&quot; }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>First, we use the layout &quot;layouts/main&quot; so that parser knows which layout to use. Then we insert the title into the reserved place. The first argument is the name of the reserved place and the second argument is the value that we want to insert.</p><p>As an alternative, we can insert the title like this:</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>{{ layout &quot;layouts/main&quot; }}

{{ insert &quot;title&quot; }}
    Home page
{{ end }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="layout" tabindex="-1"><a class="header-anchor" href="#layout" aria-hidden="true">#</a> layout</h4><p>The &quot;layout&quot; keyword is used to specify which layout to use. Assuming that our layout is placed in the &quot;layouts&quot; folder and called &quot;main.textwire.html&quot;, we can use it like this:</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>{{ layout &quot;layouts/main&quot; }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>&quot;layouts/main&quot;</code> is the relative path to the layout file. If you have deeply nested files and don&#39;t want to always specify the relative path, you can use the set the aliases in your <code>main.go</code> file like this:</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>textwire<span class="token punctuation">.</span><span class="token function">SetAliases</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span>
    <span class="token string">&quot;@layouts&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;src/views/templates/layouts&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then you can use the layout like this:</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>{{ layout &quot;@layouts/main&quot; }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="insert" tabindex="-1"><a class="header-anchor" href="#insert" aria-hidden="true">#</a> insert</h4><p>The &quot;insert&quot; keywords is used to insert the content into the reserved place in layout file. Here is an example of inserting the content into layout:</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>{{ layout &quot;layouts/main&quot; }}

{{ insert &quot;content&quot; }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
{{ end }}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h2><p>You can install the latest Textwire version by running the following command:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>go get github.com/textwire/textwire
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,41),o=[i];function l(p,c){return a(),s("div",null,o)}const r=n(t,[["render",l],["__file","guide.html.vue"]]);export{r as default};
