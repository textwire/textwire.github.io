import{_ as s}from"./chunks/debug-error-page.CLrJXish.js";import{_ as a}from"./chunks/oops.CU3HWE2Y.js";import{_ as n,o as t,c as e,ah as l}from"./chunks/framework.BKCvwjwz.js";const E=JSON.parse('{"title":"Error Handling - v3","description":"Learn how to handle errors in Textwire, enabling you to identify and resolve issues in your project","frontmatter":{"title":"Error Handling - v3","description":"Learn how to handle errors in Textwire, enabling you to identify and resolve issues in your project","outline":"deep"},"headers":[],"relativePath":"v3/guides/error-handling.md","filePath":"versions/v3/guides/error-handling.md","lastUpdated":1771062158000}'),h={name:"v3/guides/error-handling.md"};function r(p,i,k,o,d,g){return t(),e("div",null,[...i[0]||(i[0]=[l(`<h1 id="error-handling" tabindex="-1">Error Handling <a class="header-anchor" href="#error-handling" aria-label="Permalink to &quot;Error Handling&quot;">​</a></h1><p>Textwire provides a simple and user-friendly API, but errors can still occur during template processing, evaluation, or configuration. This guide covers error handling patterns to help you identify and resolve issues effectively.</p><h2 id="common-error-scenarios" tabindex="-1">Common Error Scenarios <a class="header-anchor" href="#common-error-scenarios" aria-label="Permalink to &quot;Common Error Scenarios&quot;">​</a></h2><p>Textwire returns detailed error messages to help identify and resolve issues quickly.</p><h3 id="common-error-cases" tabindex="-1">Common Error Cases <a class="header-anchor" href="#common-error-cases" aria-label="Permalink to &quot;Common Error Cases&quot;">​</a></h3><p>Here are several common error types:</p><ul><li><strong>Incorrect Argument Types</strong>: Passing wrong type arguments to functions (e.g., integer to string function)</li><li><strong>Division by Zero</strong>: Attempting division by zero</li><li><strong>Undefined Functions</strong>: Using non-existent functions</li><li><strong>Undefined Variables</strong>: Referencing undefined variables</li><li><strong>Undefined <code>@insert</code> Statements</strong>: Using undefined insert names in layouts</li><li><strong>Duplicate <code>@insert</code> or <code>@slot</code> Statements</strong>: Multiple definitions with same name</li><li><strong>Invalid Layout File Paths</strong>: Specifying non-existent layout paths like <code>@use(&#39;dir/something&#39;)</code></li></ul><h2 id="error-handling-in-go" tabindex="-1">Error Handling in Go <a class="header-anchor" href="#error-handling-in-go" aria-label="Permalink to &quot;Error Handling in Go&quot;">​</a></h2><p>Error handling in Textwire occurs in your Go code. Most functions return standard Go <code>error</code> types that you handle with typical Go error checking patterns.</p><h3 id="basic-error-handling" tabindex="-1">Basic Error Handling <a class="header-anchor" href="#basic-error-handling" aria-label="Permalink to &quot;Basic Error Handling&quot;">​</a></h3><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">inp </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;"> &quot;{{ name.split(1) }}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">out</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> textwire</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">EvaluateString</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">inp</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">]</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;"> &quot;Amy Adams&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F38BA8;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    log</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Printf</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;String evaluation failed: </span><span style="--shiki-light:#005CC5;--shiki-dark:#A6E3A1;">%v</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>The <a href="/v3/functions/str#split">split</a> function requires a string argument, not an integer. When incorrect argument types are passed, Textwire returns an error from the <code>EvaluateString</code> function. You will get an error: <code>String evaluation failed: [Textwire ERROR:1]: first argument for function &#39;split&#39; on type &#39;STRING&#39; must be a STRING</code>.</p><h3 id="common-error-handling-patterns" tabindex="-1">Common Error Handling Patterns <a class="header-anchor" href="#common-error-handling-patterns" aria-label="Permalink to &quot;Common Error Handling Patterns&quot;">​</a></h3><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-HKA3t" id="tab-5MQNSzY" checked><label data-title="Func register" for="tab-5MQNSzY">Func register</label><input type="radio" name="group-HKA3t" id="tab-_fU828O"><label data-title="Template create" for="tab-_fU828O">Template create</label><input type="radio" name="group-HKA3t" id="tab-3T177a1"><label data-title="Template eval" for="tab-3T177a1">Template eval</label><input type="radio" name="group-HKA3t" id="tab-x1gXJ4i"><label data-title="Web handler" for="tab-x1gXJ4i">Web handler</label></div><div class="blocks"><div class="language-go vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">lowerFn </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;"> args</span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;"> ...</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> strings</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">ToLower</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> textwire</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">RegisterStrFunc</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;_lower&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> lowerFn</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">);</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F38BA8;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    log</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Fatal</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">}</span></span></code></pre></div><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">tpl</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> textwire</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">NewTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F38BA8;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    log</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Fatal</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">}</span></span></code></pre></div><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">out</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> textwire</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">EvaluateString</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">input</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> data</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F38BA8;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    log</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Printf</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;Evaluation error: </span><span style="--shiki-light:#005CC5;--shiki-dark:#A6E3A1;">%v</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">}</span></span></code></pre></div><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">func</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;"> homeHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;">w</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;"> http</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">ResponseWriter</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;"> r</span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;"> *</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> tpl</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Response</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">w</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;"> &quot;views/home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> data</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">);</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F38BA8;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">        log</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Printf</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;Template error: </span><span style="--shiki-light:#005CC5;--shiki-dark:#A6E3A1;">%v</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">}</span></span></code></pre></div></div></div><div class="danger custom-block"><p class="custom-block-title">Don&#39;t Double-Handle Errors</p><p>When <code>tpl.Response()</code> returns an error, Textwire has already rendered an error page. Don&#39;t call <code>http.Error()</code> as it will inject plain text and corrupt the HTML. Just log the error:</p><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> tpl</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Response</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">w</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;"> &quot;views/home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> data</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">);</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F38BA8;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    log</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Printf</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;Template error: </span><span style="--shiki-light:#005CC5;--shiki-dark:#A6E3A1;">%v</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div><p>You don&#39;t need to crash the program in your handlers because Textwire will render error page for users. You can read how to customize error pages <a href="/v3/guides/error-handling#custom-error-pages">here</a>.</p><h2 id="error-pages" tabindex="-1">Error Pages <a class="header-anchor" href="#error-pages" aria-label="Permalink to &quot;Error Pages&quot;">​</a></h2><h3 id="debug-mode-development" tabindex="-1">Debug Mode (Development) <a class="header-anchor" href="#debug-mode-development" aria-label="Permalink to &quot;Debug Mode (Development)&quot;">​</a></h3><p>When you enable <code>DebugMode</code> in Textwire, detailed error messages display in the browser. This helps during development:</p><p><img src="`+s+'" alt="Debug mode error page in Textwire"></p><h3 id="production-errors" tabindex="-1">Production Errors <a class="header-anchor" href="#production-errors" aria-label="Permalink to &quot;Production Errors&quot;">​</a></h3><p>When <code>DebugMode</code> is <code>false</code>, Textwire shows user-friendly error pages instead of detailed error messages.</p><h4 id="default-behavior" tabindex="-1">Default Behavior <a class="header-anchor" href="#default-behavior" aria-label="Permalink to &quot;Default Behavior&quot;">​</a></h4><p>Without custom configuration, Textwire displays a pre-defined static HTML page:</p><p><img src="'+a+`" alt="Production error page in Textwire"></p><h4 id="custom-error-pages" tabindex="-1">Custom Error Pages <a class="header-anchor" href="#custom-error-pages" aria-label="Permalink to &quot;Custom Error Pages&quot;">​</a></h4><p>You can replace the default error page with your own design.</p><div class="warning custom-block"><p class="custom-block-title">Debug Mode Only</p><p>Custom error pages only appear when <code>DebugMode</code> is <code>false</code>. Debug mode always shows detailed error information. Don&#39;t forget to disable debug mode in production.</p></div><h5 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h5><p>Set <code>ErrorPagePath</code> in your configuration:</p><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#A6E3A1;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#A6E3A1;">github.com/textwire/textwire/v3</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#A6E3A1;">github.com/textwire/textwire/v3/config</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">func</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">()</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    tpl</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> textwire</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">NewTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">&amp;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">Config</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">        ErrorPagePath</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;"> &quot;error-page&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">        DebugMode</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">     os</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Getenv</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;ENV&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;"> &quot;development&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>With default <code>TemplateDir</code> of <code>&quot;templates&quot;</code>, the error page loads from <code>templates/error-page.tw</code>. If your <code>TemplateDir</code> is set to something like <code>src</code>, Textwire searches for <code>src/error-page.tw</code>.</p><h5 id="creating-a-custom-error-page" tabindex="-1">Creating a Custom Error Page <a class="header-anchor" href="#creating-a-custom-error-page" aria-label="Permalink to &quot;Creating a Custom Error Page&quot;">​</a></h5><p>Use layouts and Textwire syntax. You can access <a href="/v3/guides/configurations#global-data">global data</a> variables:</p><div class="language-textwire vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">textwire</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@use(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;~main&#39;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@insert(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;Error&#39;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@insert(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;content&#39;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">Oops!</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">Something went wrong.</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F38BA8;">&amp;copy;</span><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;"> {{</span><span style="--shiki-light:#24292E;--shiki-dark:#CBA6F7;"> global.year</span><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;"> }}</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> My Company</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">Go back to home</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Save this file in your templates directory (e.g., <code>templates/error-page.tw</code>).</p><div class="info custom-block"><p class="custom-block-title">Security Considerations</p><p>Hiding detailed errors in production protects against information disclosure. This maintains data integrity and security. Read more in the <a href="/v3/faq#prevent-visitors-from-seeing-error">FAQ section</a>.</p></div><p>If the custom error page is missing or has errors, Textwire falls back to the default production error page.</p><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><ol><li><strong>Always check errors</strong> from Textwire functions</li><li><strong>Log errors appropriately</strong> for debugging and monitoring</li><li><strong>Use custom error pages</strong> in production for better user experience</li><li><strong>Enable debug mode</strong> only during development with <code>os.Getenv(&quot;APP_DEBUG&quot;)</code> or something similar</li><li><strong>Handle web errors gracefully</strong> without exposing internal details to users</li></ol>`,40)])])}const m=n(h,[["render",r]]);export{E as __pageData,m as default};
