import{_ as s,o as a,c as t,ah as e}from"./chunks/framework.BKCvwjwz.js";const c=JSON.parse('{"title":"v3 Release Notes","description":"Get to know details about the Textwire v3 release by reading the complete release notes","frontmatter":{"title":"v3 Release Notes","description":"Get to know details about the Textwire v3 release by reading the complete release notes","outline":"deep"},"headers":[],"relativePath":"blog/2026-02-05-textwire-v3.md","filePath":"blog/2026-02-05-textwire-v3.md","lastUpdated":1772023924000}'),n={name:"blog/2026-02-05-textwire-v3.md"};function h(l,i,r,k,p,o){return a(),t("div",null,[...i[0]||(i[0]=[e(`<h1 id="v3-release-notes" tabindex="-1">v3 Release Notes <a class="header-anchor" href="#v3-release-notes" aria-label="Permalink to &quot;v3 Release Notes&quot;">â€‹</a></h1><p>Textwire v3 is one of the most important releases, introducing several significant features and improvements. This release includes the introduction of the <code>global</code> variable object, a new <a href="/v3/functions/global#defined">defined()</a> function (<a href="https://github.com/textwire/textwire/issues/56" target="_blank" rel="noreferrer">#56</a>), the ability to register custom functions for the object type, and improvements to error handling, performance (<a href="https://github.com/textwire/textwire/issues/61" target="_blank" rel="noreferrer">#61</a> <a href="https://github.com/textwire/textwire/issues/60" target="_blank" rel="noreferrer">#60</a> <a href="https://github.com/textwire/textwire/issues/59" target="_blank" rel="noreferrer">#59</a>), and usability <a href="https://github.com/textwire/textwire/issues/35" target="_blank" rel="noreferrer">#35</a>.</p><p>If you are transitioning from Textwire v2, you can follow <a href="/v3/upgrade">this guide</a> for all the instructions. v3 contains several breaking changes, so make sure you don&#39;t miss any parts of the guide.</p><h3 id="table-of-contents" tabindex="-1">Table of Contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to &quot;Table of Contents&quot;">â€‹</a></h3><ul><li><a href="#new-features">New Features</a></li><li><a href="#improvements">Improvements</a></li><li><a href="#bug-fixes">Bug Fixes</a></li><li><a href="#breaking-changes">Breaking Changes</a></li></ul><h2 id="new-features" tabindex="-1">New Features <a class="header-anchor" href="#new-features" aria-label="Permalink to &quot;New Features&quot;">â€‹</a></h2><p>Textwire v3 brings several new features to the language. Let&#39;s explore these features, starting with a new concept in Textwire - global functions.</p><h3 id="_1-function-defined" tabindex="-1">1. Function <code>defined</code> <a class="header-anchor" href="#_1-function-defined" aria-label="Permalink to &quot;1. Function \`defined\`&quot;">â€‹</a></h3><p>Textwire v3 introduces the global function <a href="/v3/functions/global#defined">defined()</a> that returns a boolean value. This function should be used only with variables and allows you to check if a variable is defined to prevent Textwire from creating an error.</p><div class="language-textwire vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">textwire</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">header</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;header&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">{{</span><span style="--shiki-light:#24292E;--shiki-dark:#CBA6F7;"> page.title</span><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;"> }}</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">{{</span><span style="--shiki-light:#24292E;--shiki-dark:#CBA6F7;"> page.desc</span><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;"> }}</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">    @if(defined(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">user</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">small</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">The user is </span><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">{{</span><span style="--shiki-light:#24292E;--shiki-dark:#CBA6F7;"> user.name</span><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;"> }}</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">small</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">    @end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">header</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span></code></pre></div><p>Here are the commits <a href="https://github.com/textwire/textwire/commit/0a19b5b5d6363a2ee9c9827df25026ffab5c2e1e" target="_blank" rel="noreferrer">0a19b</a>, <a href="https://github.com/textwire/textwire/commit/f1d3fdc0736dd0892aeacfa28b5156cca0c78ac3" target="_blank" rel="noreferrer">f1d3f</a>, <a href="https://github.com/textwire/textwire/commit/264e7ffc37a1d3bf6344fb99530be2f2b89c2081" target="_blank" rel="noreferrer">264e7</a>.</p><h3 id="_2-global-data" tabindex="-1">2. Global Data <a class="header-anchor" href="#_2-global-data" aria-label="Permalink to &quot;2. Global Data&quot;">â€‹</a></h3><p>In v3 you can now pass values from your Go code to any Textwire template using the global object. Here is an example of passing some values:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#A6E3A1;">os</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#A6E3A1;">github.com/textwire/textwire/v3</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">    &quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#A6E3A1;">github.com/textwire/textwire/v3/config</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">tpl</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> textwire</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">NewTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">&amp;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">Config</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    DebugMode</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#FAB387;">     true</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    GlobalData</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">]</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">        &quot;env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">  os</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">Getenv</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;APP_ENV&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">})</span></span></code></pre></div><p>In your templates, you can access global object like this:</p><div class="language-textwire vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">textwire</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@if (</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">global.env == </span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;development&quot;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">You are currently in development mode</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@end</span></span></code></pre></div><p>Read more about <a href="/v3/api/configurations#global-data">Global Data</a> in our docs, or look at the <a href="https://github.com/textwire/textwire/commit/f156f3fd2175f925652d462d75dc843a396de702" target="_blank" rel="noreferrer">commit</a>.</p><h3 id="_3-custom-functions-for-object-type" tabindex="-1">3. Custom Functions for Object Type <a class="header-anchor" href="#_3-custom-functions-for-object-type" aria-label="Permalink to &quot;3. Custom Functions for Object Type&quot;">â€‹</a></h3><p>In Textwire v2 you could define <a href="/v3/api/custom-functions">custom functions</a> for all types except objects; in v3 you can now do that. This was added with <a href="https://github.com/textwire/textwire/commit/a225ccacaf0fc9ca62365ebfe7e715de39b067af" target="_blank" rel="noreferrer">this commit</a>. Here is a simple example:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> textwire</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">RegisterObjFunc</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;_addProp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;"> func</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;">obj</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">]</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#EBA0AC;--shiki-dark-font-style:italic;"> args</span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;"> ...</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    key </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> args</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#FAB387;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">].(</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"> // first arg</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    value </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> args</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#FAB387;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">]</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"> // second arg</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    obj</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> value</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> obj</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">})</span></span></code></pre></div><p>You can now use it in Textwire:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">input </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;"> \`{{ obj = {name: &quot;Anna&quot;}; obj = obj._addProp(&quot;age&quot;, 25); obj.age }}\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">out</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> textwire</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">EvaluateString</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">input</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#F38BA8;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;">// Result: &quot;25&quot;</span></span></code></pre></div><h3 id="_4-embed-templates-into-binary" tabindex="-1">4. Embed Templates into Binary <a class="header-anchor" href="#_4-embed-templates-into-binary" aria-label="Permalink to &quot;4. Embed Templates into Binary&quot;">â€‹</a></h3><p>Now, in Textwire v3 you can use Go&#39;s embedded package to embed Textwire template files into a final, compiled binary. You can read about how to use this functionality in <a href="/v3/api/template-embedding">our docs</a>. But it looks something like this:</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light catppuccin-mocha has-highlighted vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">package</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#A6E3A1;">embed</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#A6E3A1;">github.com/textwire/textwire/v3</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#A6E3A1;">github.com/textwire/textwire/v3/config</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;">//go:embed templates/*</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> templateFS </span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">embed</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">FS</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;">func</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">()</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    tpl</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;"> textwire</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">NewTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#94E2D5;">&amp;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#F9E2AF;--shiki-dark-font-style:italic;">Config</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">{</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">        TemplateFS</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">    templateFS</span><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;">    // other logic here ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h2 id="improvements" tabindex="-1">Improvements <a class="header-anchor" href="#improvements" aria-label="Permalink to &quot;Improvements&quot;">â€‹</a></h2><h3 id="_1-error-handling" tabindex="-1">1. Error Handling <a class="header-anchor" href="#_1-error-handling" aria-label="Permalink to &quot;1. Error Handling&quot;">â€‹</a></h3><ul><li>Improve error handling with <a href="https://github.com/textwire/textwire/commit/d9442c5d567d788652c03fb8efa6125c93ee5843" target="_blank" rel="noreferrer">this commit</a> when trying to use <code>@use</code>, <code>@insert</code>, <code>@reserve</code> or <code>@component</code> directives in simple <code>EvaluateString</code> or <code>EvaluateFile</code> function calls. These directives are only allowed inside template files with <code>textwire.NewTemplate</code>.</li><li>Now, you&#39;ll get a clear error message like <code>@use, @insert, @reserve, @component only allowed in templates</code> if you try to use them. Previously, the error wasn&#39;t clear.</li><li>Improved all error messages in <a href="https://github.com/textwire/textwire/commit/e6b0935af2d7de0469733e12028fc349564584c6" target="_blank" rel="noreferrer">this commit</a> to make them clearer and more straightforward.</li><li>You&#39;ll get a proper error instead of panic when you try to use <code>@each(item in false)</code> directive on non-array type.</li><li>You&#39;ll get a clear error when using 2 or more <code>@use</code> statements in the same template.</li></ul><p>There are much more improvements to error handling in this release, so make sure to <a href="/v3/upgrade">upgrade</a> to version 3.</p><h3 id="_2-memory-performance" tabindex="-1">2. Memory Performance <a class="header-anchor" href="#_2-memory-performance" aria-label="Permalink to &quot;2. Memory Performance&quot;">â€‹</a></h3><p>Improve memory and performance with optimized data structures and reduced memory allocations. Here are the optimizations that you can expect in Textwire v3:</p><table tabindex="0"><thead><tr><th>Improved target</th><th>Speed</th><th>Memory usage</th><th>Allocations</th></tr></thead><tbody><tr><td>Function <a href="/v3/functions/arr#join">arr.join()</a></td><td>âš¡ <strong>18.5Ã— faster</strong></td><td>ðŸ’¾ <strong>97.8% less</strong></td><td>ðŸ“‰ <strong>33% fewer</strong></td></tr><tr><td>Tokenizing (lexing) directives</td><td>âš¡ <strong>1.24Ã— faster</strong></td><td>ðŸ’¾ <strong>46.9% less</strong></td><td>ðŸ“‰ <strong>84.9% fewer</strong></td></tr><tr><td>Parsed AST evaluation</td><td><strong>No change</strong></td><td>ðŸ’¾ <strong>9.3% less</strong></td><td>ðŸ“‰ <strong>2.5% fewer</strong></td></tr></tbody></table><p>Here is a GitHub <a href="https://github.com/textwire/textwire/issues/59" target="_blank" rel="noreferrer">issue</a> for <code>array.join()</code> if you are interested.</p><h2 id="bug-fixes" tabindex="-1">Bug Fixes <a class="header-anchor" href="#bug-fixes" aria-label="Permalink to &quot;Bug Fixes&quot;">â€‹</a></h2><p>Like any software, Textwire has its share of bugs. We found and fixed several bugs in this release. You can find the list of fixed bugs below.</p><h3 id="_1-using-component-statement-inside-layout" tabindex="-1">1. Using Component Statement inside Layout <a class="header-anchor" href="#_1-using-component-statement-inside-layout" aria-label="Permalink to &quot;1. Using Component Statement inside Layout&quot;">â€‹</a></h3><p>Fixed bug where you couldn&#39;t use <code>@component</code> directive inside of a layout file like this:</p><div class="language-textwire vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">textwire</span><pre class="shiki shiki-themes github-light catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#CBA6F7;">&lt;!</span><span style="--shiki-light:#22863A;--shiki-dark:#CBA6F7;">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#CBA6F7;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">html</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;viewport&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> content</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@reserve(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;title&#39;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;description&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> content</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@reserve(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;description&#39;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@component(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;~navbar&#39;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"> {{-- using components/navbar here --}}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">main</span><span style="--shiki-light:#6F42C1;--shiki-dark:#F9E2AF;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;container mx-auto max-w-200&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@reserve(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;content&#39;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#89B4FA;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#94E2D5;">&gt;</span></span></code></pre></div><p>You also couldn&#39;t use <code>@component</code> inside of other components. Now, it all has been fixed.</p><h3 id="_2-incorrect-file-path" tabindex="-1">2. Incorrect File Path <a class="header-anchor" href="#_2-incorrect-file-path" aria-label="Permalink to &quot;2. Incorrect File Path&quot;">â€‹</a></h3><p>Fixed incorrect file path in error messages when an error occurs inside the <code>@insert</code> directive. It used to point to the wrong file.</p><h3 id="_3-function-contains" tabindex="-1">3. Function <code>contains()</code> <a class="header-anchor" href="#_3-function-contains" aria-label="Permalink to &quot;3. Function \`contains()\`&quot;">â€‹</a></h3><ul><li>Fixed <code>contains</code> function for strings, <code>&amp;lbrace;{ !&quot;aaa&quot;.contains(&quot;a&quot;) }}</code> now returns correct result.</li><li>Fixed <code>contains</code> function for arrays, <code>&amp;lbrace;{ ![{}, 21].contains({age: 21}) }}</code> now returns correct result. They both used to work incorrect because of incorrect precidence, which was fixed.</li></ul><h3 id="_4-replace-panic-with-error" tabindex="-1">4. Replace Panic with Error <a class="header-anchor" href="#_4-replace-panic-with-error" aria-label="Permalink to &quot;4. Replace Panic with Error&quot;">â€‹</a></h3><p>Now you will get a proper error when trying to access propery on non object type like <code>&amp;lbrace;{ &quot;str&quot;.nice }}</code>. Before, in Textwire v2 you would get a panic with weird error message and long stacktrace.</p><h2 id="breaking-changes" tabindex="-1">Breaking Changes <a class="header-anchor" href="#breaking-changes" aria-label="Permalink to &quot;Breaking Changes&quot;">â€‹</a></h2><p>Textwire v3 introduces several breaking changes. We&#39;re implementing these changes now rather than later, as it&#39;s better to make significant updates when the user base is smaller.</p><p>This transition would be much harder with tens of thousands of users than with hundreds. Thank you for choosing Textwire - we&#39;ll provide the least painful transition experience with our <a href="/v3/upgrade">detailed upgrade guide</a>.</p><p>I&#39;ll discuss each breaking change briefly because they are already explained in the <a href="/v3/upgrade">Upgrade Guide</a>, so there&#39;s no need to repeat that detailed information here.</p><h3 id="_1-custom-functions-return-type" tabindex="-1">1. Custom Functions Return Type <a class="header-anchor" href="#_1-custom-functions-return-type" aria-label="Permalink to &quot;1. Custom Functions Return Type&quot;">â€‹</a></h3><p>When you define a custom function, it now returns the type <code>any</code>. If you have any registered custom functions, make sure to change their return type to <code>any</code>.</p><h3 id="_2-reserved-variable-name" tabindex="-1">2. Reserved Variable Name <a class="header-anchor" href="#_2-reserved-variable-name" aria-label="Permalink to &quot;2. Reserved Variable Name&quot;">â€‹</a></h3><p>Variable <code>global</code> is now reserved, you cannot use this name for your variables.</p><h3 id="_3-precedence-fix" tabindex="-1">3. Precedence Fix <a class="header-anchor" href="#_3-precedence-fix" aria-label="Permalink to &quot;3. Precedence Fix&quot;">â€‹</a></h3><p>Fixed precedence for prefix expressions and function call expressions. In Textwire v3, function calls now have higher precedence over prefix expressions. Instead of <code>((!var).func())</code>, we now have <code>(!(var.func()))</code>.</p><h3 id="_4-default-extension-change" tabindex="-1">4. Default Extension Change <a class="header-anchor" href="#_4-default-extension-change" aria-label="Permalink to &quot;4. Default Extension Change&quot;">â€‹</a></h3><p>Changed the default file extension from <code>.tw.html</code> to <code>.tw</code>. If you still want to support <code>.tw.html</code>, add the field <code>TemplateExt: &quot;.tw.html&quot;</code> to your configuration in <code>NewTemplate</code> or <code>Configure</code>. This will behave the same way as in Textwire v2.</p><h3 id="_5-minimal-go-version" tabindex="-1">5. Minimal Go Version <a class="header-anchor" href="#_5-minimal-go-version" aria-label="Permalink to &quot;5. Minimal Go Version&quot;">â€‹</a></h3><p>In Textwire v3, the minimum supported Go version is now <code>1.25.0</code>. In Textwire v2, it was <code>1.22.0</code>. Upgrade your project to the latest version to use Textwire v3.</p><h3 id="_6-components-scope-fix" tabindex="-1">6. Components Scope Fix <a class="header-anchor" href="#_6-components-scope-fix" aria-label="Permalink to &quot;6. Components Scope Fix&quot;">â€‹</a></h3><p>Components in <strong>Textwire v2</strong> would pass variables to their children automatially without manual passing. It was a bug. In <strong>Textwire v3</strong> each component has its scope. You need to pass data manually:</p><div class="language-textwire vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">textwire</span><pre class="shiki shiki-themes github-light catppuccin-mocha has-diff vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">{{</span><span style="--shiki-light:#24292E;--shiki-dark:#CBA6F7;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#CBA6F7;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&quot;Anna&quot;</span><span style="--shiki-light:#005CC5;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;"> }}</span></span>
<span class="line"></span>
<span class="line diff remove"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@component(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;user&#39;</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span></span>
<span class="line diff add"><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">@component(</span><span style="--shiki-light:#032F62;--shiki-dark:#A6E3A1;">&#39;user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#CDD6F4;">, { name }</span><span style="--shiki-light:#6F42C1;--shiki-light-font-style:inherit;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">)</span></span></code></pre></div><h3 id="_7-variable-leak-fix" tabindex="-1">7. Variable Leak Fix <a class="header-anchor" href="#_7-variable-leak-fix" aria-label="Permalink to &quot;7. Variable Leak Fix&quot;">â€‹</a></h3><p>Fixed variable leak from template to layout non-explicitly. In Textwire v2, if you had a variable in your template, it would be accessible in your layout without passing it explicitly. In Textwire v3, this is not available anymore.</p><p>Use the <a href="/v3/api/configurations#global-data">Global Data</a> to pass variables into all of your Textwire files.</p>`,65)])])}const g=s(n,[["render",h]]);export{c as __pageData,g as default};
