"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[548],{2305:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"guides/error-handling","title":"Error Handling - v3","description":"Learn how to handle errors in Textwire, enabling you to identify and resolve issues in your project","source":"@site/versioned_docs/version-v3/guides/error-handling.md","sourceDirName":"guides","slug":"/guides/error-handling","permalink":"/docs/v3/guides/error-handling","draft":false,"unlisted":false,"tags":[],"version":"v3","sidebarPosition":6,"frontMatter":{"title":"Error Handling - v3","sidebar_label":"Error Handling","sidebar_position":6,"description":"Learn how to handle errors in Textwire, enabling you to identify and resolve issues in your project"},"sidebar":"tutorialSidebar","previous":{"title":"Custom Functions","permalink":"/docs/v3/guides/custom-functions"},"next":{"title":"Configurations","permalink":"/docs/v3/guides/configurations"}}');var o=n(4848),s=n(8453);const t={title:"Error Handling - v3",sidebar_label:"Error Handling",sidebar_position:6,description:"Learn how to handle errors in Textwire, enabling you to identify and resolve issues in your project"},a="Error Handling",l={},d=[{value:"Common Error Scenarios",id:"common-error-scenarios",level:2},{value:"Common Error Cases",id:"common-error-cases",level:3},{value:"Error Handling in Go",id:"error-handling-in-go",level:2},{value:"Basic Error Handling",id:"basic-error-handling",level:3},{value:"Common Error Handling Patterns",id:"common-error-handling-patterns",level:3},{value:"Error Pages",id:"error-pages",level:2},{value:"Error Behavior",id:"error-behavior",level:3},{value:"Error in Production",id:"error-in-production",level:3},{value:"Error with Debug Mode",id:"error-with-debug-mode",level:3},{value:"Custom Error Pages",id:"custom-error-pages",level:3},{value:"Creating a Custom Error Page",id:"creating-a-custom-error-page",level:4},{value:"Configuration Example",id:"configuration-example",level:4},{value:"Best Practices",id:"best-practices",level:2}];function c(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"error-handling",children:"Error Handling"})}),"\n",(0,o.jsx)(r.p,{children:"Textwire provides a simple and user-friendly API, but errors can still occur during template processing, evaluation, or configuration. This guide covers error handling patterns to help you identify and resolve issues effectively."}),"\n",(0,o.jsx)(r.h2,{id:"common-error-scenarios",children:"Common Error Scenarios"}),"\n",(0,o.jsx)(r.p,{children:"Textwire returns detailed error messages to help identify and resolve issues quickly."}),"\n",(0,o.jsx)(r.h3,{id:"common-error-cases",children:"Common Error Cases"}),"\n",(0,o.jsx)(r.p,{children:"Here are several common error types:"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Incorrect Argument Types"}),": Passing wrong type arguments to functions (e.g., integer to string function)"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Division by Zero"}),": Attempting division by zero"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Undefined Functions"}),": Using non-existent functions"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Undefined Variables"}),": Referencing undefined variables"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsxs)(r.strong,{children:["Undefined ",(0,o.jsx)(r.code,{children:"@insert"})," Statements"]}),": Using undefined insert names in layouts"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsxs)(r.strong,{children:["Duplicate ",(0,o.jsx)(r.code,{children:"@insert"})," or ",(0,o.jsx)(r.code,{children:"@slot"})," Statements"]}),": Multiple definitions with same name"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Invalid Layout File Paths"}),": Specifying non-existent layout paths like ",(0,o.jsx)(r.code,{children:"@use('dir/something')"})]}),"\n"]}),"\n",(0,o.jsx)(r.h2,{id:"error-handling-in-go",children:"Error Handling in Go"}),"\n",(0,o.jsxs)(r.p,{children:["Error handling in Textwire occurs in your Go code. Most functions return standard Go ",(0,o.jsx)(r.code,{children:"error"})," types that you handle with typical Go error checking patterns."]}),"\n",(0,o.jsx)(r.h3,{id:"basic-error-handling",children:"Basic Error Handling"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-go",children:'inp := "{{ name.split(1) }}"\n\nresult, err := textwire.EvaluateString(inp, map[string]any{\n    "name": "Amy Adams",\n})\n\nif err != nil {\n    // Handle error\n    log.Printf("String evaluation failed: %v", err)\n}\n'})}),"\n",(0,o.jsxs)(r.p,{children:["The ",(0,o.jsx)(r.a,{href:"/docs/v3/functions/str#split",children:"split"})," function requires a string argument, not an integer. When incorrect argument types are passed, Textwire returns an error from the ",(0,o.jsx)(r.code,{children:"EvaluateString"})," function. You will get an error: ",(0,o.jsx)(r.code,{children:"String evaluation failed: [Textwire ERROR:1]: first argument for function 'split' on type 'STRING' must be a STRING"}),"."]}),"\n",(0,o.jsx)(r.h3,{id:"common-error-handling-patterns",children:"Common Error Handling Patterns"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-go",children:'// Function registration\nif err := textwire.RegisterStrFunc("_func", fn); err != nil {\n    log.Fatal(err)\n}\n\n// Template creation\ntpl, err := textwire.NewTemplate(config)\nif err != nil {\n    log.Fatal(err)\n}\n\n// Template evaluation\nresult, err := textwire.EvaluateString(input, data)\nif err != nil {\n    log.Printf("Evaluation error: %v", err)\n}\n\n// Web handler\nfunc homeHandler(w http.ResponseWriter, r *http.Request) {\n    err := tpl.Response(w, "home", data)\n    if err != nil {\n        http.Error(w, "Internal Server Error", http.StatusInternalServerError)\n        log.Printf("Template error: %v", err)\n        return\n    }\n}\n'})}),"\n",(0,o.jsx)(r.h2,{id:"error-pages",children:"Error Pages"}),"\n",(0,o.jsx)(r.h3,{id:"error-behavior",children:"Error Behavior"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Single File or String Evaluation"}),": Errors result in empty output"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Template System"}),": Errors render a custom error page instead of content"]}),"\n"]}),"\n",(0,o.jsxs)(r.p,{children:["The error page is fully customizable and configurable via the ",(0,o.jsx)(r.a,{href:"/docs/v3/guides/configurations",children:"configuration"}),"."]}),"\n",(0,o.jsx)(r.admonition,{title:"Security Considerations",type:"info",children:(0,o.jsxs)(r.p,{children:["When errors occur, preventing output display protects against incorrect data being shown to users. This maintains data integrity and security. Read more in the ",(0,o.jsx)(r.a,{href:"/docs/v3/faq#prevent-visitors-from-seeing-error",children:"FAQ section"}),"."]})}),"\n",(0,o.jsx)(r.h3,{id:"error-in-production",children:"Error in Production"}),"\n",(0,o.jsx)(r.p,{children:"When something goes wrong with your Textwire code, you'll get pre-defined HTML with the static message displayed. This is what people would see when your app is in production:"}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{alt:"Production error page in Textwire",src:n(4904).A+"",width:"2980",height:"926"})}),"\n",(0,o.jsx)(r.h3,{id:"error-with-debug-mode",children:"Error with Debug Mode"}),"\n",(0,o.jsxs)(r.p,{children:["When you enable the ",(0,o.jsx)(r.code,{children:"DebugMode"})," in Textwire, you can see the error message in the browser. This is useful when you are developing your application and want to see the error message in the browser. This is what you would see when the ",(0,o.jsx)(r.code,{children:"DebugMode"})," is set to ",(0,o.jsx)(r.code,{children:"true"}),":"]}),"\n",(0,o.jsx)(r.p,{children:(0,o.jsx)(r.img,{alt:"Debug mode error page in Textwire",src:n(2413).A+"",width:"1327",height:"530"})}),"\n",(0,o.jsx)(r.h3,{id:"custom-error-pages",children:"Custom Error Pages"}),"\n",(0,o.jsxs)(r.p,{children:["Create custom error pages by setting the ",(0,o.jsx)(r.code,{children:"ErrorPagePath"})," configuration. Read more in the ",(0,o.jsx)(r.a,{href:"/docs/v3/guides/configurations#available-configurations",children:"Available Configurations"})," section."]}),"\n",(0,o.jsx)(r.h4,{id:"creating-a-custom-error-page",children:"Creating a Custom Error Page"}),"\n",(0,o.jsx)(r.p,{children:"Use layouts and Textwire syntax for your error page:"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-textwire",children:"@use('~main')\n\n@insert('title', 'About Us')\n\n@insert('content')\n    <h1>Oops!</h1>\n    <p>Something went wrong.</p>\n    <p><a href=\"/\">Go back to home</a></p>\n@end\n"})}),"\n",(0,o.jsxs)(r.p,{children:["Save this file in your ",(0,o.jsx)(r.code,{children:"templates"})," directory, preferably as ",(0,o.jsx)(r.code,{children:"error-page.tw"}),"."]}),"\n",(0,o.jsx)(r.h4,{id:"configuration-example",children:"Configuration Example"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-go",children:'func main() {\n    tpl, err = textwire.NewTemplate(&config.Config{\n        ErrorPagePath: "error-page",\n        DebugMode:     false,\n    })\n}\n'})}),"\n",(0,o.jsxs)(r.p,{children:["With default ",(0,o.jsx)(r.code,{children:"TemplateDir"})," of ",(0,o.jsx)(r.code,{children:'"templates"'}),", the error page will be loaded from ",(0,o.jsx)(r.code,{children:"templates/error-page.tw"}),"."]}),"\n",(0,o.jsx)(r.admonition,{title:"Debug Mode Behavior",type:"info",children:(0,o.jsxs)(r.p,{children:["Custom error pages render only when ",(0,o.jsx)(r.code,{children:"DebugMode"})," is ",(0,o.jsx)(r.code,{children:"false"}),". Debug mode shows detailed error information instead."]})}),"\n",(0,o.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(r.ol,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Always check errors"})," from Textwire functions"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Log errors appropriately"})," for debugging and monitoring"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Use custom error pages"})," in production for better user experience"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Enable debug mode"})," only during development with ",(0,o.jsx)(r.code,{children:'os.Getenv("APP_DEBUG")'})," or something similar"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.strong,{children:"Handle web errors gracefully"})," without exposing internal details"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},2413:(e,r,n)=>{n.d(r,{A:()=>i});const i=n.p+"assets/images/debug-error-page-d0bebe5ab656cec190c66046b736bb68.png"},4904:(e,r,n)=>{n.d(r,{A:()=>i});const i=n.p+"assets/images/oops-e946979c69e89b68edc4da56b756ab16.png"},8453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>a});var i=n(6540);const o={},s=i.createContext(o);function t(e){const r=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(s.Provider,{value:r},e.children)}}}]);