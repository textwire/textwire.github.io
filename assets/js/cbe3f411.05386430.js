"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1831],{6828:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/template-usage","title":"Usage with Templates - v2","description":"Learn how to configure and use Textwire templates in your Go applications, including importing the package, creating template instances, and more","source":"@site/versioned_docs/version-v2/guides/template-usage.md","sourceDirName":"guides","slug":"/guides/template-usage","permalink":"/docs/v2/guides/template-usage","draft":false,"unlisted":false,"tags":[],"version":"v2","sidebarPosition":2,"frontMatter":{"title":"Usage with Templates - v2","sidebar_label":"Usage with Templates","sidebar_position":2,"description":"Learn how to configure and use Textwire templates in your Go applications, including importing the package, creating template instances, and more"},"sidebar":"tutorialSidebar","previous":{"title":"Guides","permalink":"/docs/v2/guides/"},"next":{"title":"Evaluate a String","permalink":"/docs/v2/guides/eval-string"}}');var a=n(4848),s=n(8453);const r={title:"Usage with Templates - v2",sidebar_label:"Usage with Templates",sidebar_position:2,description:"Learn how to configure and use Textwire templates in your Go applications, including importing the package, creating template instances, and more"},o="Usage with Templates",l={},c=[{value:"Simple usage",id:"simple-usage",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Write response to the client",id:"write-response-to-the-client",level:2},{value:"Layouts",id:"layouts",level:2},{value:"Reserve space in the layout",id:"reserve-space-in-the-layout",level:3},{value:"Insert content into reserved space",id:"insert-content-into-reserved-space",level:3}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"usage-with-templates",children:"Usage with Templates"})}),"\n",(0,a.jsx)(t.h2,{id:"simple-usage",children:"Simple usage"}),"\n",(0,a.jsxs)(t.p,{children:["To use Textwire as a template language, you need to import the ",(0,a.jsx)(t.code,{children:"github.com/textwire/textwire"})," package and create a new Template instance. You can ether pass ",(0,a.jsx)(t.code,{children:"nil"})," or a ",(0,a.jsx)(t.code,{children:"*textwire.Config"})," to the ",(0,a.jsx)(t.code,{children:"NewTemplate"})," function. The ",(0,a.jsx)(t.code,{children:"*textwire.Config"})," is used to configure the template language. Read more about ",(0,a.jsx)(t.a,{href:"/docs/v2/guides/configurations",children:"configurations"})," in Textwire."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",metastring:'title="main.go"',children:'import (\n    "fmt"\n    "net/http"\n\n    "github.com/textwire/textwire/v2"\n)\n\nvar tpl *textwire.Template\n\nfunc main() {\n    var err error\n\n    tpl, err = textwire.NewTemplate(nil)\n\n    if err != nil {\n        fmt.Println(err)\n    }\n\n    http.HandleFunc("/", homeView)\n\n    http.ListenAndServe(":8080", nil)\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["Non of the configurations are required, because each configuration has a default value. The ",(0,a.jsx)(t.code,{children:"NewTemplate"})," function returns 2 values:"]}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"*textwire.Template"})," is a struct that holds the parsed templates and has methods to evaluate the templates."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"error"})," is the error that might occur during any stage of the template parsing."]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["In return from the ",(0,a.jsx)(t.code,{children:"NewTemplate"})," function, we get a ",(0,a.jsx)(t.code,{children:"Template"})," object that can be used to evaluate an already parsed template."]}),"\n",(0,a.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,a.jsxs)(t.p,{children:["There are a few configurations that you can pass to the ",(0,a.jsx)(t.code,{children:"NewTemplate"})," function to configure the template language. The ",(0,a.jsx)(t.code,{children:"NewTemplate"})," function accepts a ",(0,a.jsx)(t.code,{children:"*config.Config"})," with several properties."]}),"\n",(0,a.jsx)(t.p,{children:"There are cases when you want to override the default file format or the directory where the template files are stored. Here is an example of how you can configure the template language:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",metastring:'title="main.go"',children:'import (\n    "fmt"\n    "net/http"\n\n    "github.com/textwire/textwire/v2"\n    // highlight-next-line\n    "github.com/textwire/textwire/v2/config"\n)\n\nvar tpl *textwire.Template\n\nfunc main() {\n    var err error\n\n    // highlight-start\n    tpl, err = textwire.NewTemplate(&config.Config{\n        TemplateDir: "src/templates",\n        TemplateExt: ".tw", // recommended to use .tw extension\n    })\n    // highlight-end\n\n    if err != nil {\n        fmt.Println(err)\n    }\n\n    http.HandleFunc("/", homeView)\n\n    http.ListenAndServe(":8080", nil)\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["To read more about the available configurations, visit the ",(0,a.jsx)(t.a,{href:"/docs/v2/guides/configurations",children:"configurations"})," page."]}),"\n",(0,a.jsx)(t.h2,{id:"write-response-to-the-client",children:"Write response to the client"}),"\n",(0,a.jsxs)(t.p,{children:["You can use the ",(0,a.jsx)(t.code,{children:"Response"})," method on ",(0,a.jsx)(t.code,{children:"Template"})," object to write the evaluated template to the client. The ",(0,a.jsx)(t.code,{children:"Response"})," method accepts a ",(0,a.jsx)(t.code,{children:"http.ResponseWriter"})," object, the name of the template file, and a map of variables that you want to inject into the template. Here is an example:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",metastring:'title="main.go"',children:'func homeView(w http.ResponseWriter, r *http.Request) {\n    err := tpl.Response(w, "home", map[string]interface{}{\n        "title":     "Home page",\n        "names":     []string{"John", "Jane", "Jack", "Jill"},\n        "showNames": true,\n    })\n\n    if err != nil {\n        http.Error(w, err.Error(), http.StatusInternalServerError)\n    }\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"layouts",children:"Layouts"}),"\n",(0,a.jsxs)(t.p,{children:["Defining a layout in Textwire is very simple. You need to create a layout file anywhere inside of your ",(0,a.jsx)(t.code,{children:"templates"})," directory. Many developers just create a ",(0,a.jsx)(t.code,{children:"templates/layouts/"})," directory for different layouts because you might have different layouts like ",(0,a.jsx)(t.code,{children:"main.tw.html"}),", ",(0,a.jsx)(t.code,{children:"admin.tw.html"}),", ",(0,a.jsx)(t.code,{children:"user.tw.html"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"reserve-space-in-the-layout",children:"Reserve space in the layout"}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.a,{href:"/docs/v2/language-elements/statements#reserve-statement",children:"reserve"})," statement (also called directive) is used to reserve a place for dynamic content that you can insert later in the layout. For example, you can reserve a place for the title of the page and then insert it later from ",(0,a.jsx)(t.code,{children:"about-me-tw.html"})," or ",(0,a.jsx)(t.code,{children:"contact-us.tw.html"}),". Here is an example of a layout file:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-textwire",metastring:'title="templates/layouts/main.tw"',children:'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>@reserve("title")</title>\n</head>\n<body>\n    @reserve("content")\n</body>\n</html>\n'})}),"\n",(0,a.jsx)(t.p,{children:"We reserve spaces for the title and content of the page. These reserved spaces can then be filled with the title and content from other files that use this layout. Read the next section to learn how to insert content into reserved spaces."}),"\n",(0,a.jsx)(t.h3,{id:"insert-content-into-reserved-space",children:"Insert content into reserved space"}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"insert"}),' statement (directive) is used to insert content into reserved places. Insert statement can be defined in 2 ways, with and without the body. In the example below, we define the insert for "title" without the body, and for "content" with the body.']}),"\n",(0,a.jsxs)(t.p,{children:["Let's take a look at the example how I would define a ",(0,a.jsx)(t.code,{children:"home.tw.html"})," and then I'll explain each part of it:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-textwire",metastring:'title="templates/home.tw"',children:'@use("layouts/main")\n\n@insert("title", "Home page")\n\n@insert("content")\n    <h1>Hello, World!</h1>\n    <p>This is a home page.</p>\n@end\n'})}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"First, we tell which layout we want to use by providing a path to the layout"}),"\n",(0,a.jsx)(t.li,{children:'Then we insert the title into layout with the value "Home page"'}),"\n",(0,a.jsx)(t.li,{children:"Then we insert the content into layout with the HTML body."}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["You can read more about ",(0,a.jsx)(t.a,{href:"/docs/v2/language-elements/statements#use-statement",children:"use"}),", ",(0,a.jsx)(t.a,{href:"/docs/v2/language-elements/statements#insert-statement",children:"insert"})," and ",(0,a.jsx)(t.a,{href:"/docs/v2/language-elements/statements#reserve-statement",children:"reserve"})," statements on the ",(0,a.jsx)(t.a,{href:"/docs/v2/language-elements/statements",children:"statements"})," page if you need more information about the syntax."]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var i=n(6540);const a={},s=i.createContext(a);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);